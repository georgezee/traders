{% load i18n allauth socialaccount static %}

{% get_providers as socialaccount_providers %}

<div class="mt-6">
  {% if socialaccount_providers %}
    <div class="flex flex-col gap-2">
      {% for provider in socialaccount_providers %}
        {% if provider.id == "openid" %}
          {% for brand in provider.get_brands %}
            {% provider_login_url provider.id openid=brand.openid_url process=process as href %}
            <a href="{{ href }}" class="btn normal-case gap-2 bg-white text-base-content border border-base-300 hover:bg-base-100 hover:border-base-300 focus-visible:outline-base-300">
              <span class="inline-flex items-center gap-2">
                <span class="w-5 h-5 inline-block align-middle">
                  <!-- Generic OpenID icon placeholder -->
                  <svg aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="w-5 h-5">
                    <circle cx="12" cy="12" r="10" fill="#F7931E"></circle>
                  </svg>
                </span>
                <span>{{ brand.name }}</span>
              </span>
            </a>
          {% endfor %}
        {% elif provider.id == "google" %}
          {% provider_login_url provider.id process=process scope=scope auth_params=auth_params as href %}
          <a href="{{ href }}" class="btn normal-case gap-2 bg-white text-base-content border border-base-300 hover:bg-base-100 hover:border-base-300 focus-visible:outline-base-300" title="{% trans 'Sign in with Google' %}">
            <svg aria-hidden="true" focusable="false" width="18" height="18" viewBox="0 0 18 18" class="w-5 h-5">
              <path fill="#4285F4" d="M17.64 9.2045c0-.638-.0573-1.251-.1636-1.836H9v3.47h4.844c-.209 1.125-.84 2.078-1.79 2.717v2.258h2.9c1.694-1.56 2.686-3.86 2.686-6.61z"/>
              <path fill="#34A853" d="M9 18c2.43 0 4.468-.807 5.957-2.188l-2.9-2.258c-.805.54-1.835.86-3.057.86-2.35 0-4.34-1.586-5.048-3.716H.96v2.332C2.443 15.982 5.5 18 9 18z"/>
              <path fill="#FBBC05" d="M3.952 10.698A5.41 5.41 0 0 1 3.68 9c0-.59.102-1.16.272-1.698V4.97H.96A9.01 9.01 0 0 0 0 9c0 1.46.35 2.84.96 4.03l2.992-2.332z"/>
              <path fill="#EA4335" d="M9 3.58c1.32 0 2.51.454 3.444 1.34l2.583-2.583C13.466.9 11.43 0 9 0 5.5 0 2.443 2.018.96 4.97l2.992 2.332C4.66 5.17 6.65 3.58 9 3.58z"/>
            </svg>
            <span>{% trans "Sign in with Google" %}</span>
          </a>
        {% else %}
          {% provider_login_url provider.id process=process scope=scope auth_params=auth_params as href %}
          <a href="{{ href }}" class="btn normal-case gap-2 bg-white text-base-content border border-base-300 hover:bg-base-100 hover:border-base-300 focus-visible:outline-base-300">
            <span class="inline-flex items-center gap-2">
              <span class="w-5 h-5 inline-block align-middle"></span>
              <span>{% firstof provider.name provider.id|title %}</span>
            </span>
          </a>
        {% endif %}
      {% endfor %}
    </div>
  {% else %}
    <p class="text-sm text-base-content/60">{% trans "No social login providers configured." %}</p>
  {% endif %}
</div>